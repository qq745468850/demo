import{u as y}from"./vue-router.esm-bundler-926c5a09.js";import{A as F}from"./accountClient-b6fbd578.js";import{O as g}from"./orderClient-3c76ba2d.js";import{_ as k}from"./plugin-vue_export-helper-c27b6911.js";import{aD as D}from"./webClient-2e88593a.js";import{f as E,r as a,o as A,h as o,j as n,k as e,B as s,z as r,F as B,V as w}from"./runtime-core.esm-bundler-201072b8.js";import"./_commonjsHelpers-725317a4.js";const I={class:"pannel"},L={key:0,class:"bgImg"},T={class:"userImg"},N=["src"],b={class:"userName"},x={class:"pannel-con"},P={class:"list"},M={key:0,class:"item-info"},V={class:"num"},q={class:"time"},O={class:"cat"},S={key:1,class:"item-info"},j={class:"num"},z={class:"time"},R={class:"cat"},$=["onClick"],G={key:3,class:"item-btn"},H=E({__name:"couponCenter",setup(J){let d=new g,_=new F,l=y();const i=a(null),c=a(),m=a(),p=a([]);A(async()=>{c.value=await l.query.type,m.value=await l.query.id,i.value=await _.checkLogIn(),await h()});const h=()=>{d.getMarketCouponsProList(c.value,m.value).then(u=>{p.value=u.data.length>0?u.data:[]})},v=async u=>{if(await _.checkLogIn()){let t=await d.getCoupon(u);t.code==0&&h(),D({title:"提示",message:t.msg,type:"success",duration:2e3})}};return(u,C)=>(o(),n("div",I,[i.value?(o(),n("div",L,[e("div",T,[e("img",{src:i.value.headPortrait},null,8,N)]),e("div",b,s(i.value.nickName),1)])):r("",!0),e("div",x,[e("div",P,[(o(!0),n(B,null,w(p.value,(t,f)=>(o(),n("div",{class:"list-item",key:f},[t.couponType==1?(o(),n("div",M,[e("div",V,"优惠券￥"+s(t.discountAmount),1),e("div",q," 有效日期： "+s(t.startTime)+" - "+s(t.endTime),1),e("div",O,"限品类：仅限购买"+s(c.value==0?"班型":"单科"),1)])):r("",!0),t.couponType==2?(o(),n("div",S,[e("div",j,"满"+s(t.limitPrice)+"减"+s(t.discountAmount),1),e("div",z," 有效日期： "+s(t.startTime)+" - "+s(t.endTime),1),e("div",R,"限品类：仅限购买"+s(c.value==0?"班型":"单科"),1)])):r("",!0),t.receiveStatus==0?(o(),n("div",{key:2,class:"item-btn pointer",onClick:K=>v(t.couponId)}," 立即领取 ",8,$)):(o(),n("div",G," 已领取 "))]))),128))])])]))}}),et=k(H,[["__scopeId","data-v-b269da60"]]);export{et as default};
