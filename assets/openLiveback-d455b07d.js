import{_ as A}from"./line-2545f1db.js";import{_ as D}from"./hot-4e4545bf.js";import{A as w}from"./AliPlayer-7ed77c5e.js";import{u as S}from"./vue-router.esm-bundler-0ff22247.js";import{A as L}from"./accountClient-16268368.js";import{O as I}from"./openClient-47a3aec2.js";import{ae as N,f as $,r as a,o as x,h as o,j as i,k as t,B as l,A as v,z as d,t as P,F as Y,V as O,ag as V,ah as M}from"./plugin-vue_export-helper-3a3407bb.js";import"./jquery-0491babd.js";import"./_commonjsHelpers-725317a4.js";import"./webClient-e9003e98.js";const c=r=>(V("data-v-0bd9c189"),r=r(),M(),r),T={key:0,class:"pannel"},j={class:"video-pannel"},q={class:"video-con"},z={class:"video-left",style:{width:"100%"}},H={class:"video-title"},R=["title"],G={class:"teacher"},J={class:"tea-img"},K=["src"],Q={key:0,class:"player-Prompt"},U=c(()=>t("div",{class:"icon"},[t("i",{class:"iconfont iconzhuyi"})],-1)),W=c(()=>t("div",{class:"text"}," 课程视频版权所有，禁止任何形式得转载！并未经本公司书面许可的使用行为，我公司均保留追究法律责任的权利。 ",-1)),X=c(()=>t("i",{class:"iconfont iconguanbi"},null,-1)),Z={class:"player-main",style:{width:"100%",height:"675px"}},tt={class:"content-con"},et={class:"con-ago"},st=c(()=>t("div",{class:"ago-title"},[t("span",{class:"title"},"推荐公开课"),t("img",{src:A,alt:""})],-1)),ot={class:"list"},it={class:"item-con"},ut=["src"],nt={class:"con-info"},ct={class:"title twoEllipsis"},at={class:"num-con"},lt=c(()=>t("div",{class:"tag"},"限免",-1)),dt={class:"num"},rt=c(()=>t("img",{src:D,alt:""},null,-1)),_t={class:"time-con"},pt={class:"time"},vt={key:1,class:"btn btn2"},ht=["onClick"],mt={key:3,class:"btn btn4"},Ft=["onClick"],Ct=$({__name:"openLiveback",setup(r){let _=new I,h=new L;const m=a(!0),y=S(),p=a(),u=a({}),B=a({}),F=a([{}]);x(async()=>{p.value=y.query.id,B.value=await h.checkLogIn(),C(),g()});const C=()=>{_.getDetail(p.value).then(s=>{u.value=s.data,document.title=s.data.openCourseName})},g=()=>{_.queryOpenRecommend(1,12).then(s=>{F.value=s.data.rows})},k=async(s,n)=>{await h.checkLogIn()&&(s==1?window.location.href=`/openLive?id=${n}`:window.location.href=`/openLiveback?id=${n}`)},E=()=>{_.addOpenScheduled(p.value).then(s=>{s.code==0&&C()})};return(s,n)=>u.value?(o(),i("div",T,[t("div",j,[t("div",q,[t("div",z,[t("div",H,[t("div",{class:"title oneEllipsis",title:u.value.openCourseName},l(u.value.openCourseName),9,R),t("div",G,[t("div",J,[t("img",{src:u.value.teacherPortrait,alt:""},null,8,K)]),v(" 讲师："+l(u.value.teacherName),1)])]),m.value?(o(),i("div",Q,[U,W,t("div",{class:"player-Prompt-close",onClick:n[0]||(n[0]=e=>m.value=!1)},[v(" 关闭 "),X])])):d("",!0),t("div",Z,[u.value.playbackLink?(o(),P(w,{key:0,url:u.value.playbackLink},null,8,["url"])):d("",!0)])])])]),t("div",tt,[t("div",et,[st,t("div",ot,[(o(!0),i(Y,null,O(F.value,(e,b)=>(o(),i("div",{class:"list-item",key:b},[t("div",it,[t("img",{src:e.surfacePlot,alt:""},null,8,ut),t("div",nt,[t("div",ct,l(e.openCourseName),1),t("div",at,[lt,t("div",dt,[rt,v(" "+l(e.heatDegree)+"人气值 ",1)])])])]),t("div",_t,[t("div",pt,"开播时间："+l(s.$dayjs(e.liveStartTime).format("YYYY-MM-DD HH:mm")),1),e.liveCourseStatus==0&&e.scheduledStatus==0?(o(),i("div",{key:0,class:"btn btn1",onClick:n[1]||(n[1]=f=>E())},"立即预约")):d("",!0),e.liveCourseStatus==0&&e.scheduledStatus==1?(o(),i("div",vt,"预约成功 ")):e.liveCourseStatus==1?(o(),i("div",{key:2,class:"btn btn3",onClick:f=>k(1,e.openCourseId)},"进入直播 ",8,ht)):e.liveCourseStatus==2?(o(),i("div",mt,"回放生成中")):e.liveCourseStatus==3?(o(),i("div",{key:4,class:"btn btn5",onClick:f=>k(2,e.openCourseId)},"观看课程 ",8,Ft)):d("",!0)])]))),128))])])])])):d("",!0)}}),St=N(Ct,[["__scopeId","data-v-0bd9c189"]]);export{St as default};
