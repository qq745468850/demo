import{u as E}from"./vue-router.esm-bundler-926c5a09.js";import{L as B}from"./learningCenterClient-cc3ac964.js";import{_ as S}from"./plugin-vue_export-helper-c27b6911.js";import{f as M,r,o as I,G as Y,h as s,j as o,A as Q,z as A,F as X,V as C,k as a,B as u,t as F,af as R,ag as N}from"./runtime-core.esm-bundler-201072b8.js";import"./webClient-2e88593a.js";import"./commonjsHelpers-725317a4.js";const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAAXNSR0IArs4c6QAAAZtJREFUSEud1j1IAzEUB/B/a5EipYNUcBJ0dXQQ3XQSZ3USKjoVqQiOzg5OzgWVCg7ioIMgdnOQOjl2Eh0EEVRQRDsU7cnzmZJL75J3CRwU2uSX95FcU0EQBPAY9TugJw2MD8smp3yg6jWwdc7A5iywNOHGEkM6opaXYIkgHRkbAt6awP2rLDIxZCL7ReCrBSzuyTARFIX09XIkL58yzAnpyFA/cLYKKETVSIJZoSSFd2GxkJku2v3Ng73wNiwSiqoJEcsH/lgXZCt8syXH5ivA4zvfHpcbQAiyIarwEuyiAawfAz9tYKQAnJY0SIJIMBM5XAEGcv8QfVk+4mXoxNNhNFvYvM2iIhvMhyNRCM39S93uFbBd46VmRoGdBSCTdl+UJkb1UOnSkQ703ead1Bp+2FwFuH3muVQTE+lA9MEXi6uJmY9Q1yXFpEgoIrUDKZYEiYQkadQR6rSTErewbcTedWZkhRyQzfBSTx/cXTTyWX7iRnGSX/XW29vE3A3f/YvyFLA27YBUGqt1gM6Mz6B/SfQ4X3w+i0fN+QXpKU+STpXNZQAAAABJRU5ErkJggg==",T="./assets/notice-back-8041c6a5.png";const U=d=>(R("data-v-13e6e144"),d=d(),N(),d),J={class:"pannel"},L={key:0},b=U(()=>a("img",{src:w,alt:""},null,-1)),D={key:1},H=["onClick"],V={key:0,class:"tag"},x={class:"item-con"},z={class:"item-info"},Z={class:"item-title oneEllipsis"},j={class:"item-time"},G={key:0,class:"btn btn1"},O={key:1,class:"btn btn2"},K={key:1},P={key:0,class:"notice-info"},W={class:"title-con"},q={class:"title"},$={class:"time"},ee=["innerHTML"],se=M({__name:"msgNotice",setup(d){let l=new B;const _=r(),k=E(),n=r(),g=r(1),c=r([]);I(()=>{_.value=k.query.id,_.value&&p(_.value),m()});const m=()=>{l.getMessagePcList().then(t=>{c.value=t.data})},h=()=>{let t=[];for(let e of c.value)t.push(e.messageId);l.updateMessageRead({messageId:t.toString()}).then(e=>{e.code==0&&m()})},y=(t,e)=>{t==0?l.updateMessageRead({messageId:e}).then(v=>{v.code==0&&p(e)}):p(e)},p=t=>{l.getMessagePc({messageId:t}).then(e=>{e.code==0&&(n.value=e.data,g.value=2)})};return(t,e)=>{const v=Y("el-empty");return s(),o("div",J,[g.value==1?(s(),o("div",L,[c.value.length>0?(s(),o("div",{key:0,class:"all-read",onClick:h},[b,Q(" 全部已读 ")])):A("",!0),c.value.length>0?(s(),o("div",D,[(s(!0),o(X,null,C(c.value,(i,f)=>(s(),o("div",{class:"list-item pointer",key:f,onClick:te=>y(i.read,i.messageId)},[i.read==0?(s(),o("div",V)):A("",!0),a("div",x,[a("div",z,[a("div",Z,u(i.title),1),a("div",j,u(t.$dayjs(i.sendingTime).format("YYYY.MM.DD HH:mm")),1)]),i.read==0?(s(),o("div",G,"查看")):(s(),o("div",O,"已读"))])],8,H))),128))])):(s(),F(v,{key:2,class:"empty-con",description:"暂无消息通知~",image:"http://staticfile.xlcwx.com/xlcwx-pc/images/notice-null.png"}))])):(s(),o("div",K,[n.value?(s(),o("div",P,[a("div",W,[a("div",q,u(n.value.title),1),a("img",{src:T,class:"back",onClick:e[0]||(e[0]=i=>(g.value=1,m()))})]),a("div",$,u(t.$dayjs(n.value.sendingTime).format("YYYY.MM.DD HH:mm")),1),a("div",{class:"desc",innerHTML:n.value.content},null,8,ee)])):A("",!0)]))])}}}),le=S(se,[["__scopeId","data-v-13e6e144"]]);export{le as default};
