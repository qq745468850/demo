import{O as G,_ as R}from"./openCourseView-60cdddb7.js";import{A as J}from"./AliPlayer-41cb06a0.js";import{P as Q}from"./projectView-52e8e39d.js";import{O as U}from"./openClient-8733bfdd.js";import{P as W}from"./publicClient-90b64d32.js";import{C as X}from"./coachClient-6606bd3e.js";import{_ as Z}from"./plugin-vue_export-helper-c27b6911.js";import{f as ee,r as o,I as te,b as se,G as f,h as n,j as c,k as e,t as L,z as w,F as N,V as S,n as oe,B as i,A as m,C as v,af as ae,ag as ne}from"./runtime-core.esm-bundler-201072b8.js";import"./timeUtils-e0b64442.js";import"./jquery-0491babd.js";import"./_commonjsHelpers-725317a4.js";import"./webClient-2e88593a.js";const ie="./assets/wqzb-f88c81bb.png";const l=d=>(ae("data-v-39197de5"),d=d(),ne(),d),ce={class:"pannel-con"},le={key:0,class:"courseSection"},re={class:"container"},de={class:"video-container"},ue={class:"ali-con"},_e={class:"list-con"},pe=l(()=>e("div",{class:"list-con-tag"},[e("img",{class:"tip-img",src:ie,alt:""})],-1)),ve={class:"list-item-con"},me=["onClick"],he={class:"title-con"},ge=l(()=>e("div",{class:"tag"},"回放中",-1)),ye=["title"],ke={class:"kind"},Ce={class:"time"},fe=l(()=>e("div",{class:"opencourse-title"},[m(" 近期"),e("span",null,"直播")],-1)),we={class:"content-title"},be=l(()=>e("div",{class:"line"},null,-1)),Pe={class:"content-div"},De={class:"content-con"},Fe=["href"],xe={class:"box"},Ee={class:"box-img"},Ie={class:"hot-num"},Le=l(()=>e("img",{src:R},null,-1)),Ne={class:"box-con"},Se={class:"tea-con"},je={class:"tea-img"},Ae=["src"],Ve={class:"tea-name"},Be={class:"twoEllipsis title"},Ye={class:"time-con"},qe={class:"time"},ze=l(()=>e("div",{class:"price"},"限免",-1)),Oe=ee({__name:"index",setup(d){let j=new W,b=new U,P=new X;const D=o(0),h=o([]),g=o([]),u=o(""),_=o(1),F=o(12),x=o(0),A=o([]),a=te({kind:null,schooll:null,types:null}),y=o(""),k=o(""),E=o(""),p=o("");se(async()=>{await Y(),await C(),await z(),await O()});const V=t=>{a.kind=t.kind?t.kind:null,a.schooll=t.school?t.school:null,a.types=t.types?t.types:null,_.value=1,C()},C=async()=>{let t=await b.getPageList(_.value,F.value,a.kind?a.kind.id:void 0,a.types?a.types.key:void 0);g.value=t.data.rows,x.value=t.data.total},B=(t,I)=>{u.value=I,D.value=t},Y=()=>{j.getKindList().then(t=>{A.value=t.data})},q=t=>{_.value=t,C()},z=async()=>{let t=await b.queryOpenPlayback(1,4);h.value=t.data.rows,u.value=t.data.rows.length>0?t.data.rows[0].playbackLink:""},O=()=>{P.queryCourseTasks().then(t=>{console.log("沿海公路的出口",t),E.value=t.data.time,p.value=t.data.frequency})},T=()=>{p.value!=0&&(y.value=setInterval(()=>{k.value++,E.value===k.value&&(P.receiveTaskProfit(10),k.value=0,p.value--,p.value<=0&&clearInterval(y.value))}))},M=()=>{clearInterval(y.value)};return(t,I)=>{const H=f("xlc-image"),$=f("el-svg-icon"),K=f("el-pagination");return n(),c("div",ce,[h.value.length>0?(n(),c("div",le,[e("div",re,[e("div",de,[e("div",ue,[u.value?(n(),L(J,{key:0,url:u.value,onPlay:T,onSuspendPlay:M,id:"player-con"},null,8,["url"])):w("",!0)]),e("div",_e,[pe,e("div",ve,[(n(!0),c(N,null,S(h.value,(s,r)=>(n(),c("div",{class:oe(["list-item",{onView:D.value==r}]),key:r,onClick:Te=>B(r,s.playbackLink)},[e("div",he,[ge,e("div",{class:"title oneEllipsis",title:s.openCourseName},i(s.openCourseName),9,ye)]),e("div",ke,[m(i(s.belongProjectName)+" ",1),e("span",Ce,"开播时间："+i(t.$dayjs(s.liveStartTime).format("YYYY-MM-DD HH:mm")),1)])],10,me))),128))])])])])])):w("",!0),fe,v(G),v(Q,{types:1,class:"project-view",onClickProject:V,style:{"margin-top":"22px"}}),e("div",we,[be,m(" "+i(a.kind?a.kind.valStr:"全部"),1)]),e("div",Pe,[e("div",De,[(n(!0),c(N,null,S(g.value,(s,r)=>(n(),c("div",{class:"list-item pointer",key:r},[e("a",{href:`/opencourse/details?id=${s.openCourseId}`,target:"_blank"},[e("div",xe,[e("div",Ee,[v(H,{url:s.surfacePlot},null,8,["url"])]),e("div",Ie,[Le,m(" "+i(s.heatDegree)+"人气值 ",1)])]),e("div",Ne,[e("div",Se,[e("div",je,[e("img",{src:s.teacherPortrait,alt:""},null,8,Ae)]),e("div",Ve,i(s.teacherName),1)]),e("div",Be,i(s.openCourseName),1),e("div",Ye,[e("div",qe,[v($,{name:"Clock",color:"#666666"}),e("span",null,i(t.$dayjs(s.liveStartTime).format("YYYY-MM-DD HH:mm")),1)]),ze])])],8,Fe)]))),128))])]),g.value.length>0?(n(),L(K,{key:1,background:"",layout:"prev, pager, next",total:x.value,"page-size":F.value,"current-page":_.value,onCurrentChange:q},null,8,["total","page-size","current-page"])):w("",!0)])}}}),et=Z(Oe,[["__scopeId","data-v-39197de5"]]);export{et as default};
