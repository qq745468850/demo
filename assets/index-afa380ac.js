import{O as z,_ as O}from"./openCourseView-6e029d05.js";import{A as M}from"./AliPlayer-7ed77c5e.js";import{P as H}from"./projectView-8209d6b4.js";import{O as $}from"./openClient-47a3aec2.js";import{P as T}from"./publicClient-ee633572.js";import{ae as q,f as K,r as n,I as G,b as R,G as k,h as a,j as c,k as t,t as D,z as y,F as x,V as F,n as J,B as i,A as m,C as p,ag as Q,ah as U}from"./plugin-vue_export-helper-3a3407bb.js";import"./timeUtils-e0b64442.js";import"./jquery-0491babd.js";import"./_commonjsHelpers-725317a4.js";import"./webClient-e9003e98.js";const W="/assets/wqzb-f88c81bb.png";const l=d=>(Q("data-v-6b70c14a"),d=d(),U(),d),X={class:"pannel-con"},Z={key:0,class:"courseSection"},tt={class:"container"},et={class:"video-container"},st={class:"ali-con"},ot={class:"list-con"},nt=l(()=>t("div",{class:"list-con-tag"},[t("img",{class:"tip-img",src:W,alt:""})],-1)),at={class:"list-item-con"},it=["onClick"],ct={class:"title-con"},lt=l(()=>t("div",{class:"tag"},"回放中",-1)),rt=["title"],dt={class:"kind"},_t={class:"time"},ut=l(()=>t("div",{class:"opencourse-title"},[m(" 近期"),t("span",null,"直播")],-1)),pt={class:"content-title"},mt=l(()=>t("div",{class:"line"},null,-1)),ht={class:"content-div"},vt={class:"content-con"},gt=["href"],kt={class:"box"},yt={class:"box-img"},Ct={class:"hot-num"},bt=l(()=>t("img",{src:O},null,-1)),ft={class:"box-con"},wt={class:"tea-con"},Pt={class:"tea-img"},Dt=["src"],xt={class:"tea-name"},Ft={class:"twoEllipsis title"},Lt={class:"time-con"},Nt={class:"time"},jt=l(()=>t("div",{class:"price"},"限免",-1)),St=K({__name:"index",setup(d){let L=new T,C=new $;const b=n(0),h=n([]),v=n([]),_=n(""),u=n(1),f=n(12),w=n(0),N=n([]),o=G({kind:null,schooll:null,types:null});R(async()=>{await V(),await g(),await E()});const j=e=>{o.kind=e.kind?e.kind:null,o.schooll=e.school?e.school:null,o.types=e.types?e.types:null,u.value=1,g()},g=async()=>{let e=await C.getPageList(u.value,f.value,o.kind?o.kind.id:void 0,o.types?o.types.key:void 0);v.value=e.data.rows,w.value=e.data.total},S=(e,P)=>{_.value=P,b.value=e},V=()=>{L.getKindList().then(e=>{N.value=e.data})},A=e=>{u.value=e,g()},E=async()=>{let e=await C.queryOpenPlayback(1,4);h.value=e.data.rows,_.value=e.data.rows.length>0?e.data.rows[0].playbackLink:""};return(e,P)=>{const Y=k("xlc-image"),B=k("el-svg-icon"),I=k("el-pagination");return a(),c("div",X,[h.value.length>0?(a(),c("div",Z,[t("div",tt,[t("div",et,[t("div",st,[_.value?(a(),D(M,{key:0,url:_.value,id:"player-con"},null,8,["url"])):y("",!0)]),t("div",ot,[nt,t("div",at,[(a(!0),c(x,null,F(h.value,(s,r)=>(a(),c("div",{class:J(["list-item",{onView:b.value==r}]),key:r,onClick:Vt=>S(r,s.playbackLink)},[t("div",ct,[lt,t("div",{class:"title oneEllipsis",title:s.openCourseName},i(s.openCourseName),9,rt)]),t("div",dt,[m(i(s.belongProjectName)+" ",1),t("span",_t,"开播时间："+i(e.$dayjs(s.liveStartTime).format("YYYY-MM-DD HH:mm")),1)])],10,it))),128))])])])])])):y("",!0),ut,p(z),p(H,{types:1,class:"project-view",onClickProject:j,style:{"margin-top":"22px"}}),t("div",pt,[mt,m(" "+i(o.kind?o.kind.valStr:"全部"),1)]),t("div",ht,[t("div",vt,[(a(!0),c(x,null,F(v.value,(s,r)=>(a(),c("div",{class:"list-item pointer",key:r},[t("a",{href:`/opencourse/details?id=${s.openCourseId}`,target:"_blank"},[t("div",kt,[t("div",yt,[p(Y,{url:s.surfacePlot},null,8,["url"])]),t("div",Ct,[bt,m(" "+i(s.heatDegree)+"人气值 ",1)])]),t("div",ft,[t("div",wt,[t("div",Pt,[t("img",{src:s.teacherPortrait,alt:""},null,8,Dt)]),t("div",xt,i(s.teacherName),1)]),t("div",Ft,i(s.openCourseName),1),t("div",Lt,[t("div",Nt,[p(B,{name:"Clock",color:"#666666"}),t("span",null,i(e.$dayjs(s.liveStartTime).format("YYYY-MM-DD HH:mm")),1)]),jt])])],8,gt)]))),128))])]),v.value.length>0?(a(),D(I,{key:1,background:"",layout:"prev, pager, next",total:w.value,"page-size":f.value,"current-page":u.value,onCurrentChange:A},null,8,["total","page-size","current-page"])):y("",!0)])}}}),Tt=q(St,[["__scopeId","data-v-6b70c14a"]]);export{Tt as default};
