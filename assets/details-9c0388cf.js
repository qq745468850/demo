import{u as N,a as $}from"./vue-router.esm-bundler-926c5a09.js";import{A as L}from"./accountClient-b6fbd578.js";import{E as V}from"./evaluatView-3e999aa8.js";import{S as Y}from"./shareView-ab5be19e.js";import{aE as q}from"./webClient-2e88593a.js";import{O as M}from"./openClient-8733bfdd.js";import{_ as z}from"./plugin-vue_export-helper-c27b6911.js";import{f as H,r as d,o as O,G as P,h as o,j as a,k as e,C as h,B as l,z as r,n as b,F as R,V as U,af as j,ag as G}from"./runtime-core.esm-bundler-201072b8.js";import"./commonjsHelpers-725317a4.js";import"./publicClient-90b64d32.js";import"./coachClient-6606bd3e.js";import"./index-006961dc.js";const i=v=>(j("data-v-3f0b49dc"),v=v(),G(),v),K={key:0,class:"panel"},Q={class:"bg-section"},J={class:"pannel-con"},W={class:"frame"},X={class:"img-container"},Z=["title"],ee={class:"ref-panel"},se={class:"info-row"},te=i(()=>e("div",{class:"info-label"},"课程安排",-1)),oe={class:"info-content"},ae={class:"ic-boxs"},ne=i(()=>e("i",{class:"ic-letter"},"时",-1)),ue={class:"ic-content"},le={class:"ic-boxs"},ie=i(()=>e("i",{class:"ic-letter"},"长",-1)),ce={class:"ic-content"},de={class:"info-row"},_e=i(()=>e("div",{class:"info-label"},"课程类型",-1)),re={class:"info-content"},ve={class:"t-textgreen"},pe={class:"state-row"},he={class:"text-group"},me=i(()=>e("span",{class:"t-label"},"课程状态",-1)),Ce={key:0,class:"t-textgreen"},Be={key:1,class:"t-textgreen"},Fe={key:2,class:"t-textgreen"},ge={class:"text-group"},ye=i(()=>e("span",{class:"t-label"},"预约人数",-1)),be={class:"t-textred"},ke={class:"teacher-pannel"},fe={class:"tea-img"},Ee=["src"],Ae={class:"intro"},Se={class:"name"},De={class:"btn-pannel"},xe={key:1,class:"go-btn-playback"},we={key:3,class:"go-btn-playback"},Ie={class:"share-bar"},Te={class:"intro-section"},Ne={class:"border"},$e={class:"tab-header"},Le=i(()=>e("div",null,"课程详情",-1)),Ve=[Le],Ye=i(()=>e("div",null,"课程评价",-1)),qe=[Ye],Me={class:"content-container"},ze={class:"tab_box"},He={key:0,class:"tab-panel"},Oe=["innerHTML"],Pe={key:1,class:"tab-panel"},Re={id:"comment"},Ue={key:0,class:"tab-aside"},je=i(()=>e("div",{class:"aside-header"},"推荐课程",-1)),Ge={class:"aside-body"},Ke=["onClick"],Qe={class:"img-box"},Je={class:"guanli_title"},We={class:"title oneEllipsis"},Xe={class:"tag tag-public"},Ze={class:"additional"},es={class:"pull-right"},ss={class:"count"},ts=H({__name:"details",setup(v){let p=new M,k=new L;const f=N(),C=$(),c=d(),_=d(1),E=d(1),A=d(5),S=d(null),s=d({}),B=d([]);O(()=>{c.value=f.query.id,S.value=q(),D(),m(),w()});const m=()=>{p.getDetail(c.value).then(t=>{s.value=t.data,document.title=t.data.openCourseName})},D=()=>{p.addBrowseFrequency(c.value)},F=async t=>{await k.checkLogIn()&&(t==1?C.push(`/openLive?id=${c.value}`):C.push(`/openLiveback?id=${c.value}`))},g=t=>{_.value=t},x=t=>{window.location.href=`details?id=${t}`,m()},w=()=>{p.queryOpenRecommend(E.value,A.value).then(t=>{B.value=t.data.rows})},I=()=>{p.addOpenScheduled(c.value).then(t=>{t.code==0&&m()})};return(t,u)=>{const y=P("xlc-image");return s.value?(o(),a("div",K,[e("div",Q,[e("div",J,[e("div",W,[e("div",X,[h(y,{url:s.value.surfacePlot},null,8,["url"])]),e("div",{class:"summary-container",title:s.value.openCourseName},[e("h1",null,l(s.value.openCourseName),1),e("div",ee,[e("div",se,[te,e("div",oe,[e("span",ae,[ne,e("span",ue,l(t.$dayjs(s.value.liveStartTime).format("YYYY-MM-DD HH:mm")),1)]),e("span",le,[ie,e("span",ce,l(s.value.playbackTime)+"分钟",1)])])]),e("div",de,[_e,e("div",re,[e("span",ve,l(s.value.openCourseType==0?"公开课":s.value.openCourseType==1?"导学课":"试听课"),1)])])]),e("div",pe,[e("div",he,[me,s.value.liveCourseStatus==1?(o(),a("span",Ce,"直播中")):s.value.liveCourseStatus==0?(o(),a("span",Be,"未开始")):s.value.liveCourseStatus==2||s.value.liveCourseStatus==3?(o(),a("span",Fe,"已结束")):r("",!0)]),e("div",ge,[ye,e("span",be,l(s.value.scheduledFrequency)+"人",1)])]),e("div",ke,[e("div",fe,[e("img",{src:s.value.teacherPortrait,alt:""},null,8,Ee)]),e("div",Ae,[e("div",Se,"主讲老师："+l(s.value.teacherName),1)])]),e("div",De,[s.value.liveCourseStatus==0&&s.value.scheduledStatus==0?(o(),a("div",{key:0,class:"go-btn-playback",onClick:u[0]||(u[0]=n=>I())}," 立即预约 ")):r("",!0),s.value.liveCourseStatus==0&&s.value.scheduledStatus==1?(o(),a("div",xe," 预约成功 ")):s.value.liveCourseStatus==1?(o(),a("div",{key:2,class:"go-btn-playback",onClick:u[1]||(u[1]=n=>F(1))}," 进入直播 ")):s.value.liveCourseStatus==2?(o(),a("div",we," 回放生成中 ")):s.value.liveCourseStatus==3?(o(),a("div",{key:4,class:"go-btn-playback",onClick:u[2]||(u[2]=n=>F(2))}," 观看课程 ")):r("",!0)])],8,Z)]),e("div",Ie,[h(Y,{type:6,title:s.value.openCourseName,id:s.value.openCourseId,codeUrl:s.value.appletSharingQrCode},null,8,["title","id","codeUrl"])])])]),e("div",Te,[e("div",Ne,[e("div",$e,[e("div",{class:b(["tab",{selected:_.value===1}]),onClick:u[3]||(u[3]=n=>g(1))},Ve,2),e("div",{class:b(["tab",{selected:_.value===2}]),onClick:u[4]||(u[4]=n=>g(2))},qe,2)])]),e("div",Me,[e("div",ze,[_.value==1?(o(),a("div",He,[e("div",{class:"con",innerHTML:s.value.summarizeContent},null,8,Oe)])):(o(),a("div",Pe,[e("div",Re,[h(V,{type:1,typeId:c.value},null,8,["typeId"])])]))]),_.value==1?(o(),a("div",Ue,[je,e("div",Ge,[(o(!0),a(R,null,U(B.value,(n,T)=>(o(),a("div",{class:"Item pointer",onClick:os=>x(n.openCourseId),key:T},[e("div",Qe,[h(y,{url:n.surfacePlot,class:"img"},null,8,["url"])]),e("div",Je,[e("div",We,l(n.openCourseName),1),e("span",Xe,l(n.openCourseType==0?"公开课":n.openCourseType==1?"导学课":"试听课"),1)]),e("div",Ze,[e("span",es,"时长："+l(n.playbackTime)+"分钟",1),e("span",ss,"人气值："+l(n.heatDegree?n.heatDegree:0),1)])],8,Ke))),128))])])):r("",!0)])])])):r("",!0)}}}),ms=z(ts,[["__scopeId","data-v-3f0b49dc"]]);export{ms as default};
