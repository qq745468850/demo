import{$ as v}from"./jquery-0491babd.js";import{ae as h,f as T,r,I as x,w as p,a as P,o as w,h as c,j as u,z as H}from"./plugin-vue_export-helper-3a3407bb.js";const A={class:"prism-player",id:"player-con"},b={key:0,src:"https://xlc-wx.oss-cn-beijing.aliyuncs.com/xlcwx/videologo.png",alt:"",class:"logo-img"},j=T({__name:"AliPlayer",props:{url:{type:String,default:""},seekTime:{type:Number,default:0}},emits:["getPropsData"],setup(d,{emit:m}){const a=d,n=r(!1),s=r({}),o=x({onSpeed:"1.0",seekTime:0});p(()=>a.seekTime,()=>{s.value.seek(a.seekTime)}),p(()=>a.url,()=>{s.value.dispose(),l()}),P(()=>{s.value.dispose()}),w(()=>{l()});const l=async()=>{let e;e=new Aliplayer({id:"player-con",source:a.url,width:"100%",height:"100%",autoplay:!0,preload:!0,isLive:!1,useH5Prism:!0,rePlay:!1},function(t){a.seekTime>0&&t.seek(a.seekTime),console.log("The player is created")});function i(){n.value=!0,a.seekTime>0&&e.seek(a.seekTime)}function y(){}function f(){}function _(){}function g(){}function k(){if(a.isUpload){var t=v("video")[0];o.onSpeed=t.playbackRate,o.seekTime=parseInt(s.value.getCurrentTime()),m("getPropsData",o)}}e.on("play",g),e.on("pause",_),e.on("playing",f),e.on("canplay",y),e.on("ready",i),e.on("timeupdate",k),s.value=e};return(e,i)=>(c(),u("div",A,[n.value?(c(),u("img",b)):H("",!0)]))}}),D=h(j,[["__scopeId","data-v-78d82d6a"]]);export{D as A};
