import{N as m,aD as I}from"./webClient-2e88593a.js";import{u as M}from"./vue-router.esm-bundler-926c5a09.js";import{A as E}from"./accountClient-b6fbd578.js";import{C as F}from"./coachClient-6606bd3e.js";import{P as N}from"./publicClient-90b64d32.js";import{_ as T}from"./plugin-vue_export-helper-c27b6911.js";import{f as H,r as i,o as $,G as A,h as o,j as s,k as e,C as p,v as g,A as l,B as d,z as k,n as L,x as f}from"./runtime-core.esm-bundler-201072b8.js";import"./commonjsHelpers-725317a4.js";const P={class:"pannel"},V={class:"url-div"},j={class:"info-con"},q={key:0,class:"con-info"},z={class:"img-con"},G=["src"],O={class:"info"},S={class:"title"},Y={key:0,class:"row"},R={class:"btn"},J={key:0,class:"pointer"},K={key:2,class:"pointer"},Q=["href"],U={class:"content-con"},W={class:"con-ago"},X={class:"ago-title"},Z=["innerHTML"],ee=["innerHTML"],te=H({__name:"textbookHome",setup(oe){let C=new N,y=new E,B=new F;const _=M(),v=i(),a=i(),u=i(!0),n=i(1),t=i({});$(async()=>{v.value=await _.query.id,a.value=await _.query.classId,u.value=await C.checkIsOrder(0,a.value),D()});const D=()=>{B.getTeachById(v.value).then(r=>{t.value=r.data})},w=async()=>{await y.checkLogIn()&&(window.location.href=`/order/classChooseGoods?classId=${a.value}`)},x=()=>{t.value.tryTeachingMaterial?window.open(`/textbookPage?id=${t.value.teachingMaterialId}&classId=${a.value}`):I({title:"提示",message:"暂无试看",type:"warning"})};return(r,c)=>{const h=A("router-link");return o(),s("div",P,[e("div",V,[p(h,{to:"/"},{default:g(()=>[l("首页")]),_:1}),l(" >"),p(h,{to:"/"},{default:g(()=>[l("班型名称")]),_:1}),l(" > 专属教材> "+d(t.value.teachingMaterialName),1)]),e("div",j,[t.value?(o(),s("div",q,[e("div",z,[e("img",{src:t.value.teachingMaterialImg,alt:""},null,8,G)]),e("div",O,[e("div",S,d(t.value.teachingMaterialName),1),t.value.belongYear?(o(),s("div",Y," 出版时间："+d(t.value.belongYear),1)):k("",!0),e("div",R,[u.value?(o(),s("div",J,"已购买")):(o(),s("div",{key:1,class:"pointer",onClick:w},"购买班型")),u.value?(o(),s("div",K,[e("a",{href:`/textbookPage?id=${t.value.teachingMaterialId}&classId=${a.value}`,target:"_blank"},"阅读教材",8,Q)])):(o(),s("div",{key:3,class:"pointer",onClick:c[0]||(c[0]=b=>x())},"免费试看"))])])])):k("",!0)]),e("div",U,[e("div",W,[e("div",X,[e("div",{class:L(["pointer",{xuan:n.value==1}]),onClick:c[1]||(c[1]=b=>n.value=1)}," 教材简介 ",2)]),f(e("div",{class:"richtext",innerHTML:t.value.teachingMaterialDescribe},null,8,Z),[[m,n.value==1]]),f(e("div",{class:"richtext",innerHTML:t.value.teachingMaterialEditCatalogue},null,8,ee),[[m,n.value==2]])])])])}}}),de=T(te,[["__scopeId","data-v-c87227dc"]]);export{de as default};
