import{P}from"./publicClient-90b64d32.js";import{_ as S}from"./plugin-vue_export-helper-c27b6911.js";import{f as V,I as $,r as k,b as w,h as l,j as a,k as n,n as i,F as h,V as v,B as f,z as B,af as I,ag as x}from"./runtime-core.esm-bundler-201072b8.js";const m=c=>(I("data-v-83978820"),c=c(),x(),c),D={class:"content"},N={class:"content-allcat"},z=m(()=>n("div",{class:"allcat-title label"},"全部学院",-1)),F={class:"allcat-item"},K=["onClick"],A={key:0,class:"content-allcat"},M=m(()=>n("div",{class:"allcat-title label"},"全部项目",-1)),T={class:"allcat-item"},q=["onClick"],G={key:1,class:"content-allcat"},H=m(()=>n("div",{class:"allcat-title label"},"全部类型",-1)),J={class:"allcat-item"},O=["onClick"],Q=V({__name:"projectView",props:{types:{type:Number,default:0}},emits:["clickProject"],setup(c,{emit:y}){const C=c;let r=new P;const t=$({school:null,kind:null,types:null}),L=k([]),u=k([]),b=k([]);w(()=>{g(),j()});const j=()=>{C.types==1&&r.getDataList("openCourseType").then(s=>{b.value=s.data})},g=()=>{r.getSchoolList().then(s=>{L.value=s.data}),r.getKindList().then(s=>{u.value=s.data})},p=(s,o)=>{s==1&&(t.school=o,r.getKindList(t.school.id).then(e=>{u.value=e.data})),s==2&&(t.kind=o),s==3&&(t.types=o),y("clickProject",t)},_=s=>{s==1&&(t.school=null,t.kind=null,g()),s==2&&(t.kind=null),s==3&&(t.types=null),y("clickProject",t)};return(s,o)=>(l(),a("div",D,[n("div",N,[z,n("div",F,[n("span",{class:i(["pointer darkLabel",{on:!t.school}]),onClick:o[0]||(o[0]=e=>_(1))},"全部",2),(l(!0),a(h,null,v(L.value,(e,d)=>(l(),a("span",{class:i(["pointer darkLabel",{on:t.school&&t.school.id==e.id}]),key:d,onClick:E=>p(1,e)},f(e.valStr),11,K))),128))])]),t.school?(l(),a("div",A,[M,n("div",T,[n("span",{class:i(["pointer darkLabel",{on:!t.kind}]),onClick:o[1]||(o[1]=e=>_(2))},"全部",2),(l(!0),a(h,null,v(u.value,(e,d)=>(l(),a("span",{class:i(["pointer darkLabel",{on:t.kind&&t.kind.id==e.id}]),key:d,onClick:E=>p(2,e)},f(e.valStr),11,q))),128))])])):B("",!0),C.types==1?(l(),a("div",G,[H,n("div",J,[n("span",{class:i(["pointer darkLabel",{on:!t.types}]),onClick:o[2]||(o[2]=e=>_(3))},"全部",2),(l(!0),a(h,null,v(b.value,(e,d)=>(l(),a("span",{class:i(["pointer darkLabel",{on:t.types&&t.types.key==e.key}]),key:d,onClick:E=>p(3,e)},f(e.value),11,O))),128))])])):B("",!0)]))}}),X=S(Q,[["__scopeId","data-v-83978820"]]);export{X as P};
